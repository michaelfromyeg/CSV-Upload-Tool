(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{125:function(e,t){},127:function(e,t){},136:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(28),o=a.n(l),c=(a(80),a(26)),s=a.n(c),i=a(40),u=a(41),m=a(12),p=a(22),d=a.n(p),f=["firstName","lastName","asset","createdOn"],E=["Download our csv templates and add all of your lot information.","Upload the csv file containing your lot's information.","Drag and drop the uploaded groupings to match our groupings."],v=a(137),h=a(144),b=a(145),g=a(138),x=function(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),l=a[0],o=a[1];return r.a.createElement(v.a,{isOpen:l,toggle:function(){return o((function(e){return!e}))}},r.a.createElement(h.a,{caret:!0},e.value),r.a.createElement(b.a,null,e.options.map((function(t){return r.a.createElement(g.a,{id:e.id,value:t,onClick:e.onChange},t)}))))},O=a(139),j=a(140),w=a(70),y=a(24),k=a(25);var N=function(){var e=E[0];return r.a.createElement(O.a,null,r.a.createElement(j.a,null,r.a.createElement("div",{className:"ordered-list-icon"},"1"),"\u2003",e,"\u2003",r.a.createElement(w.a,{color:"primary",onClick:function(){d()({url:"/download",method:"GET",responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data])),a=document.createElement("a");a.href=t,a.setAttribute("download","artesiansoft.csv"),document.body.appendChild(a),a.click()}))}},"Download (csv)\xa0\xa0",r.a.createElement(y.a,{icon:k.a}))))},S=a(146),C=function(e){var t=Object(n.useState)(e.visible),a=Object(m.a)(t,2),l=a[0],o=a[1];return r.a.createElement(S.a,{color:e.color,isOpen:l,toggle:function(){return o(!1)}},e.text)},F=a(73),T=a(141),U=a(142),Y=a(143),A=function(){var e=f,t=E[1],a=E[2],l={};e.map((function(e){l[e]="None"}));var o=Object(n.useState)(""),c=Object(m.a)(o,2),p=c[0],v=c[1],h=Object(n.useState)({options:["None"]}),b=Object(m.a)(h,2),g=b[0],S=b[1],A=Object(n.useState)(l),G=Object(m.a)(A,2),D=G[0],J=G[1],B=Object(n.useState)({visible:!0,color:"info",text:"Upload your csv file before proceeding."}),q=Object(m.a)(B,2),I=q[0],L=q[1],P=Object(n.useState)({visible:!0,color:"info",text:"Then, upload your matches to our servers."}),R=Object(m.a)(P,2),W=R[0],z=R[1],M=function(e){D[e.target.getAttribute("id")]=e.target.value,J(D),S({options:g.options})},$=function(){var e=Object(u.a)(s.a.mark((function e(t){var a,n,r,l,o,c,u,m,d,f,E,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.keys(t),n=Object.values(t),e.next=4,p.text();case 4:return r=e.sent,e.next=7,Object(F.a)(r,{header:!0});case 7:for(l=e.sent,o=[],c=l.data,u=0;u<c.length;u++){for(m=c[u],d=0;d<a.length;d++)f=a[d],E=n[d],m[f]=m[E],delete m[E];o.push(m)}return console.log(JSON.stringify(Object(i.a)({},c))),v=JSON.stringify(Object(i.a)({},c)),e.abrupt("return",v);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(u.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Object.values(D),!K(t)){e.next=5;break}z({visible:!0,color:"danger",text:"Your upload has failed. Check you have no duplicate matchings."}),e.next=9;break;case 5:return e.next=7,$(D);case 7:a=e.sent,d.a.post("/submit",a).then((function(e){console.log(e),z({visible:!0,color:"success",text:"Your upload has succeeded. Thank you for using our form."})})).catch((function(e){console.warn("Error on the post request..."+e),z({visible:!0,color:"danger",text:"Your upload has failed. There appears to be an internal server error. Please try again later."})}));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(e){return new Set(e).size!==e.length};return r.a.createElement(T.a,{className:"import"},r.a.createElement(O.a,null,r.a.createElement(j.a,null,r.a.createElement("h3",null,"Import steps"))),r.a.createElement(N,null),r.a.createElement("div",{class:"spacer25"}),r.a.createElement(O.a,null,r.a.createElement(j.a,null,r.a.createElement("div",{className:"ordered-list-icon"},"2"),"\u2003",t,r.a.createElement("div",{class:"input-group"},r.a.createElement("div",{class:"input-group-prepend"},r.a.createElement("span",{onClick:function(){var e=new FormData;e.append("file",p),d.a.post("/upload",e).then((function(e){console.log(e),S({options:e.data[0]}),L({visible:!0,color:"success",text:"Your upload has succeeded. You match proceed to match our fields to yours."})})).catch((function(e){console.warn("Error on the post request..."+e),L({visible:!0,color:"danger",text:"Your upload has failed. There appears to be an internal server error. Please try again later."})}))},class:"input-group-text",id:"inputGroupFileAddon01"},"Upload\xa0\xa0",r.a.createElement(y.a,{icon:k.c}))),r.a.createElement("div",{class:"custom-file"},r.a.createElement("input",{type:"file",accept:".xls,.xlsx,.csv",class:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",onChange:function(e){v(e.target.files[0])}}),r.a.createElement("label",{class:"custom-file-label",for:"inputGroupFile01"},""==p?"Choose file":p.name.split(/[\\/]/g).pop().split(".")[0]))))),r.a.createElement("div",{class:"spacer5"}),r.a.createElement(O.a,null,r.a.createElement(j.a,null,r.a.createElement(C,{visible:I.visible,color:I.color,text:I.text}))),r.a.createElement("div",{class:"spacer25"}),r.a.createElement(O.a,null,r.a.createElement(j.a,null,r.a.createElement("div",{className:"ordered-list-icon"},"3"),"\u2003",a)),r.a.createElement("div",{class:"spacer25"}),r.a.createElement("hr",null),r.a.createElement(O.a,{xs:"2"},r.a.createElement(j.a,{xs:"6"},r.a.createElement("h4",null,"Match our fields to yours"),e.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{xs:"2"},r.a.createElement(j.a,{xs:"3"},e),r.a.createElement(j.a,{xs:"3"},r.a.createElement(x,{id:e,value:D[e],options:g.options,onChange:M}))),r.a.createElement("div",{class:"spacer10"}))}))),r.a.createElement(j.a,{xs:"6"},r.a.createElement(O.a,null,r.a.createElement(j.a,null,r.a.createElement("h4",null,"Uploaded fields"),r.a.createElement(U.a,null,g.options.map((function(e){return r.a.createElement(Y.a,null,e)}))))))),r.a.createElement("div",{class:"spacer25"}),r.a.createElement(O.a,null,r.a.createElement(j.a,null,r.a.createElement(w.a,{color:"primary",onClick:H},"Submit matches\xa0\xa0",r.a.createElement(y.a,{icon:k.b})))),r.a.createElement("div",{class:"spacer5"}),r.a.createElement(O.a,null,r.a.createElement(j.a,null,r.a.createElement(C,{visible:W.visible,color:W.color,text:W.text}))))};var G=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(A,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(135);o.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},75:function(e,t,a){e.exports=a(136)},80:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.c97ae7f1.chunk.js.map